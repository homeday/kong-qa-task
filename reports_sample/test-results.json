{
  "stats": {
    "suites": 3,
    "tests": 18,
    "passes": 18,
    "pending": 0,
    "failures": 0,
    "start": "2025-11-22T04:04:16.869Z",
    "end": "2025-11-22T04:04:29.028Z",
    "duration": 12159,
    "testsRegistered": 18,
    "passPercent": 100,
    "pendingPercent": 0,
    "other": 0,
    "hasOther": false,
    "skipped": 0,
    "hasSkipped": false
  },
  "results": [
    {
      "uuid": "1566b8f6-ca5e-49cb-8198-625e0d98f8eb",
      "title": "",
      "fullFile": "",
      "file": "",
      "beforeHooks": [],
      "afterHooks": [],
      "tests": [],
      "suites": [
        {
          "uuid": "5668cc7d-e173-478f-b211-7af6c9130b05",
          "title": "API gateway Functional Tests",
          "fullFile": "D:\\dev\\src\\kong\\mocha-test-repo\\test\\fun.test.js",
          "file": "\\test\\fun.test.js",
          "beforeHooks": [],
          "afterHooks": [],
          "tests": [
            {
              "title": "POST /items should return 200 and created item",
              "fullTitle": "API gateway Functional Tests POST /items should return 200 and created item",
              "timedOut": false,
              "duration": 752,
              "state": "passed",
              "speed": "slow",
              "pass": true,
              "fail": false,
              "pending": false,
              "context": null,
              "code": "const res = await api\n    .post(items_sub_path)\n    .set('Authorization', basic_auth)\n    .send(item)\n    .expect(200);\nexpect(res.body).to.have.property('id');\nconst { id, createdAt, ...actual } = res.body;\nexpect(actual).to.deep.equal(item);\ncreated_id = id;",
              "err": {},
              "uuid": "01884326-0c3b-4da9-b9c4-01aec7ac60e8",
              "parentUUID": "5668cc7d-e173-478f-b211-7af6c9130b05",
              "isHook": false,
              "skipped": false
            },
            {
              "title": "POST /items without auth should return 401",
              "fullTitle": "API gateway Functional Tests POST /items without auth should return 401",
              "timedOut": false,
              "duration": 259,
              "state": "passed",
              "speed": "slow",
              "pass": true,
              "fail": false,
              "pending": false,
              "context": null,
              "code": "await api.post(items_sub_path).send(item).expect(401);",
              "err": {},
              "uuid": "21501dbe-0043-4a01-bf5f-e98b07c47666",
              "parentUUID": "5668cc7d-e173-478f-b211-7af6c9130b05",
              "isHook": false,
              "skipped": false
            },
            {
              "title": "GET /items/:id should return 200 and the item",
              "fullTitle": "API gateway Functional Tests GET /items/:id should return 200 and the item",
              "timedOut": false,
              "duration": 700,
              "state": "passed",
              "speed": "slow",
              "pass": true,
              "fail": false,
              "pending": false,
              "context": null,
              "code": "const res = await api\n    .get(`${items_sub_path}/${created_id}`)\n    .set('Authorization', basic_auth)\n    .expect(200);\nconst { id, ...actual } = res.body;\nexpect(actual).to.deep.equal(item);\nexpect(id).to.equal(created_id);",
              "err": {},
              "uuid": "144c5c98-336d-420a-9b5a-041ab6387d3b",
              "parentUUID": "5668cc7d-e173-478f-b211-7af6c9130b05",
              "isHook": false,
              "skipped": false
            },
            {
              "title": "GET /items/:id should return 404 when not existing item",
              "fullTitle": "API gateway Functional Tests GET /items/:id should return 404 when not existing item",
              "timedOut": false,
              "duration": 731,
              "state": "passed",
              "speed": "slow",
              "pass": true,
              "fail": false,
              "pending": false,
              "context": null,
              "code": "await api\n    .get(`${items_sub_path}/12345678900987654321`)\n    .set('Authorization', basic_auth)\n    .expect(404);",
              "err": {},
              "uuid": "3fbc84fd-fd2e-4e4c-915a-0917abe29f7e",
              "parentUUID": "5668cc7d-e173-478f-b211-7af6c9130b05",
              "isHook": false,
              "skipped": false
            },
            {
              "title": "GET /items?id should return 200 and the item",
              "fullTitle": "API gateway Functional Tests GET /items?id should return 200 and the item",
              "timedOut": false,
              "duration": 717,
              "state": "passed",
              "speed": "slow",
              "pass": true,
              "fail": false,
              "pending": false,
              "context": null,
              "code": "const res = await api\n    .get(`${items_sub_path}?id=${created_id}`)\n    .set('Authorization', basic_auth)\n    .expect(200);\nexpect(res.body).to.be.an('array').with.lengthOf(1);\nconst { id, ...actual } = res.body[0];\nexpect(actual).to.deep.equal(item);\nexpect(id).to.equal(created_id);",
              "err": {},
              "uuid": "878129dc-8b4c-4624-8a47-acff4521f010",
              "parentUUID": "5668cc7d-e173-478f-b211-7af6c9130b05",
              "isHook": false,
              "skipped": false
            },
            {
              "title": "GET /items/:id without auth should return 401",
              "fullTitle": "API gateway Functional Tests GET /items/:id without auth should return 401",
              "timedOut": false,
              "duration": 266,
              "state": "passed",
              "speed": "slow",
              "pass": true,
              "fail": false,
              "pending": false,
              "context": null,
              "code": "await api.get(`${items_sub_path}/${created_id}`).expect(401);",
              "err": {},
              "uuid": "963f8f64-e1a2-404b-8f18-f39e399e23bc",
              "parentUUID": "5668cc7d-e173-478f-b211-7af6c9130b05",
              "isHook": false,
              "skipped": false
            },
            {
              "title": "PUT /items/:id should update and return 200",
              "fullTitle": "API gateway Functional Tests PUT /items/:id should update and return 200",
              "timedOut": false,
              "duration": 714,
              "state": "passed",
              "speed": "slow",
              "pass": true,
              "fail": false,
              "pending": false,
              "context": null,
              "code": "const res = await api\n    .put(`${items_sub_path}/${created_id}`)\n    .set('Authorization', basic_auth)\n    .send(updated_item)\n    .expect(200);\nconst { id, updatedAt, ...actual } = res.body;\nexpect(actual).to.deep.equal(updated_item);\nexpect(id).to.equal(created_id);",
              "err": {},
              "uuid": "8bee95d6-3031-4134-8d0f-50f26b2e7649",
              "parentUUID": "5668cc7d-e173-478f-b211-7af6c9130b05",
              "isHook": false,
              "skipped": false
            },
            {
              "title": "PUT /items/:id without auth should return 401",
              "fullTitle": "API gateway Functional Tests PUT /items/:id without auth should return 401",
              "timedOut": false,
              "duration": 264,
              "state": "passed",
              "speed": "slow",
              "pass": true,
              "fail": false,
              "pending": false,
              "context": null,
              "code": "await api.put(`${items_sub_path}/${created_id}`).send(updated_item).expect(401);",
              "err": {},
              "uuid": "2ba98d5b-5157-4e83-9066-4c1421db9d18",
              "parentUUID": "5668cc7d-e173-478f-b211-7af6c9130b05",
              "isHook": false,
              "skipped": false
            },
            {
              "title": "DELETE /items/:id without auth should return 401",
              "fullTitle": "API gateway Functional Tests DELETE /items/:id without auth should return 401",
              "timedOut": false,
              "duration": 255,
              "state": "passed",
              "speed": "slow",
              "pass": true,
              "fail": false,
              "pending": false,
              "context": null,
              "code": "await api.delete(`${items_sub_path}/${created_id}`).expect(401);",
              "err": {},
              "uuid": "b3c3adc2-f43e-4b25-9957-e2f479b87e5c",
              "parentUUID": "5668cc7d-e173-478f-b211-7af6c9130b05",
              "isHook": false,
              "skipped": false
            },
            {
              "title": "DELETE /items/:id should return 200",
              "fullTitle": "API gateway Functional Tests DELETE /items/:id should return 200",
              "timedOut": false,
              "duration": 729,
              "state": "passed",
              "speed": "slow",
              "pass": true,
              "fail": false,
              "pending": false,
              "context": null,
              "code": "const res = await api\n    .delete(`${items_sub_path}/${created_id}`)\n    .set('Authorization', basic_auth)\n    .expect(200);\nexpect(res.body.message).to.equal(\n    `Object with id = ${created_id} has been deleted.`\n);",
              "err": {},
              "uuid": "5f76db06-1b8e-4e5d-8186-6ab881e04464",
              "parentUUID": "5668cc7d-e173-478f-b211-7af6c9130b05",
              "isHook": false,
              "skipped": false
            },
            {
              "title": "GET /items/:id after delete should return 404",
              "fullTitle": "API gateway Functional Tests GET /items/:id after delete should return 404",
              "timedOut": false,
              "duration": 710,
              "state": "passed",
              "speed": "slow",
              "pass": true,
              "fail": false,
              "pending": false,
              "context": null,
              "code": "await api\n    .get(`${items_sub_path}/${created_id}`)\n    .set('Authorization', basic_auth)\n    .expect(404);",
              "err": {},
              "uuid": "f884a6e7-a434-4a82-9409-2e18b74f4588",
              "parentUUID": "5668cc7d-e173-478f-b211-7af6c9130b05",
              "isHook": false,
              "skipped": false
            },
            {
              "title": "POST /items within 2000ms",
              "fullTitle": "API gateway Functional Tests POST /items within 2000ms",
              "timedOut": false,
              "duration": 719,
              "state": "passed",
              "speed": "slow",
              "pass": true,
              "fail": false,
              "pending": false,
              "context": null,
              "code": "const startTime = Date.now();\n\nconst res = await api\n    .post(items_sub_path)\n    .set('Authorization', basic_auth)\n    .send(item)\n    .expect(200);\nconst endTime = Date.now();\nconst responseTime = endTime - startTime;\nexpect(responseTime).to.be.lessThan(2000);\ncreated_id = res.body.id;",
              "err": {},
              "uuid": "2eaff189-32e4-4599-a11d-852787b5cc26",
              "parentUUID": "5668cc7d-e173-478f-b211-7af6c9130b05",
              "isHook": false,
              "skipped": false
            },
            {
              "title": "GET /items within 2000ms",
              "fullTitle": "API gateway Functional Tests GET /items within 2000ms",
              "timedOut": false,
              "duration": 727,
              "state": "passed",
              "speed": "slow",
              "pass": true,
              "fail": false,
              "pending": false,
              "context": null,
              "code": "const startTime = Date.now();\nawait api\n    .get(`${items_sub_path}?id=${created_id}`)\n    .set('Authorization', basic_auth)\n    .expect(200);\nconst endTime = Date.now();\nconst responseTime = endTime - startTime;\nexpect(responseTime).to.be.lessThan(2000);",
              "err": {},
              "uuid": "8ed9e7a2-7550-4901-9c80-9050448cb3ce",
              "parentUUID": "5668cc7d-e173-478f-b211-7af6c9130b05",
              "isHook": false,
              "skipped": false
            }
          ],
          "suites": [],
          "passes": [
            "01884326-0c3b-4da9-b9c4-01aec7ac60e8",
            "21501dbe-0043-4a01-bf5f-e98b07c47666",
            "144c5c98-336d-420a-9b5a-041ab6387d3b",
            "3fbc84fd-fd2e-4e4c-915a-0917abe29f7e",
            "878129dc-8b4c-4624-8a47-acff4521f010",
            "963f8f64-e1a2-404b-8f18-f39e399e23bc",
            "8bee95d6-3031-4134-8d0f-50f26b2e7649",
            "2ba98d5b-5157-4e83-9066-4c1421db9d18",
            "b3c3adc2-f43e-4b25-9957-e2f479b87e5c",
            "5f76db06-1b8e-4e5d-8186-6ab881e04464",
            "f884a6e7-a434-4a82-9409-2e18b74f4588",
            "2eaff189-32e4-4599-a11d-852787b5cc26",
            "8ed9e7a2-7550-4901-9c80-9050448cb3ce"
          ],
          "failures": [],
          "pending": [],
          "skipped": [],
          "duration": 7543,
          "root": false,
          "rootEmpty": false,
          "_timeout": 5000
        },
        {
          "uuid": "febc5370-f3c2-4c4f-9a14-73f61941f4ef",
          "title": "API gateway items",
          "fullFile": "D:\\dev\\src\\kong\\mocha-test-repo\\test\\gateway.test.js",
          "file": "\\test\\gateway.test.js",
          "beforeHooks": [],
          "afterHooks": [],
          "tests": [
            {
              "title": "testing headers",
              "fullTitle": "API gateway items testing headers",
              "timedOut": false,
              "duration": 708,
              "state": "passed",
              "speed": "slow",
              "pass": true,
              "fail": false,
              "pending": false,
              "context": null,
              "code": "const res = await api.get(items_sub_path).set('Authorization', basic_auth).expect(200);\nexpect(res.headers['x-kong-request-id']).to.exist;",
              "err": {},
              "uuid": "3cafea0c-4ef1-43ac-9cc9-d9cb3dcec381",
              "parentUUID": "febc5370-f3c2-4c4f-9a14-73f61941f4ef",
              "isHook": false,
              "skipped": false
            },
            {
              "title": "should return 404 when invalid subpath",
              "fullTitle": "API gateway items should return 404 when invalid subpath",
              "timedOut": false,
              "duration": 258,
              "state": "passed",
              "speed": "slow",
              "pass": true,
              "fail": false,
              "pending": false,
              "context": null,
              "code": "await api.get(\"/invalid\").set('Authorization', basic_auth).expect(404);",
              "err": {},
              "uuid": "661d3fb9-596b-4bb0-9fc8-1a7727319159",
              "parentUUID": "febc5370-f3c2-4c4f-9a14-73f61941f4ef",
              "isHook": false,
              "skipped": false
            }
          ],
          "suites": [],
          "passes": [
            "3cafea0c-4ef1-43ac-9cc9-d9cb3dcec381",
            "661d3fb9-596b-4bb0-9fc8-1a7727319159"
          ],
          "failures": [],
          "pending": [],
          "skipped": [],
          "duration": 966,
          "root": false,
          "rootEmpty": false,
          "_timeout": 5000
        },
        {
          "uuid": "edf60dcf-90f7-4e28-a487-c6e62bc98293",
          "title": "API gateway Performance Tests",
          "fullFile": "D:\\dev\\src\\kong\\mocha-test-repo\\test\\perf.test.js",
          "file": "\\test\\perf.test.js",
          "beforeHooks": [],
          "afterHooks": [],
          "tests": [
            {
              "title": "should handle 10 concurrent get requests within 5 seconds",
              "fullTitle": "API gateway Performance Tests should handle 10 concurrent get requests within 5 seconds",
              "timedOut": false,
              "duration": 1145,
              "state": "passed",
              "speed": "slow",
              "pass": true,
              "fail": false,
              "pending": false,
              "context": null,
              "code": "const concurrentRequests = 10;\nconst promises = [];\nconst startTime = Date.now();\nfor (let i = 0; i < concurrentRequests; i++) {\n    const promise = api\n        .get(items_sub_path)\n        .set('Authorization', basic_auth)\n        .expect(200).catch(err => {\n            console.error(\"Getting failed:\", id, err.message);\n            throw err;\n        })\n    promises.push(promise);\n}\nawait Promise.all(promises);\n\nconst endTime = Date.now();\nconst totalTime = endTime - startTime;\n\nconsole.log(`10 concurrent requests completed in ${totalTime}ms`);\nexpect(totalTime).to.be.lessThan(5000);",
              "err": {},
              "uuid": "845082d7-70e8-482d-985e-24b2bb8e17b0",
              "parentUUID": "edf60dcf-90f7-4e28-a487-c6e62bc98293",
              "isHook": false,
              "skipped": false
            },
            {
              "title": "should handle 10 concurrent post requests within 5 seconds",
              "fullTitle": "API gateway Performance Tests should handle 10 concurrent post requests within 5 seconds",
              "timedOut": false,
              "duration": 1391,
              "state": "passed",
              "speed": "slow",
              "pass": true,
              "fail": false,
              "pending": false,
              "context": null,
              "code": "const iterations = 10; \nlet promises = []\nconst startTime = Date.now();\nfor (let i = 0; i < iterations; i++) {\n    const item = {\n        name: `Perf Test Item ${i}`,\n        data: { price: i * 10, iteration: i}\n    };\n    const promise = api\n        .post(items_sub_path)\n        .set('Authorization', basic_auth)\n        .send(item)\n        .expect(200).catch(err => {\n            console.error(\"Adding failed:\", err.message);\n            throw err;\n        })\n    promises.push(promise);\n}\nconst results = await Promise.allSettled(promises);\nconst endTime = Date.now();\nconst totalTime = endTime - startTime;\nconsole.log(`10 concurrent requests completed in ${totalTime}ms`);\nfor(const result of results) {\n    if (result.status === \"fulfilled\") {\n        createdItemIds.push(result.value.body.id);\n    } else {\n        console.error(\"Request failed:\", result.reason.message);\n    }\n}\nexpect(totalTime).to.be.lessThan(5000);",
              "err": {},
              "uuid": "ee0bac27-034c-497a-ac2a-7b3e2aa0005c",
              "parentUUID": "edf60dcf-90f7-4e28-a487-c6e62bc98293",
              "isHook": false,
              "skipped": false
            },
            {
              "title": "should handle 10 concurrent delete requests within 5 seconds",
              "fullTitle": "API gateway Performance Tests should handle 10 concurrent delete requests within 5 seconds",
              "timedOut": false,
              "duration": 1096,
              "state": "passed",
              "speed": "slow",
              "pass": true,
              "fail": false,
              "pending": false,
              "context": null,
              "code": "let promises = []\nconst startTime = Date.now();\nfor(const created_id of createdItemIds) {\n    const promise = api\n        .delete(`${items_sub_path}/${created_id}`)\n        .set('Authorization', basic_auth)\n        .expect(200).catch(err => {\n            console.error(\"Removal failed:\", id, err.message);\n            throw err;\n        })\n    promises.push(promise);\n}\nconst endTime = Date.now();\nconst totalTime = endTime - startTime;\nconsole.log(`20 concurrent requests completed in ${totalTime}ms`);\nawait Promise.allSettled(promises);\nexpect(totalTime).to.be.lessThan(5000);",
              "err": {},
              "uuid": "25c9d302-4788-45ad-a19d-ee5862b5fb08",
              "parentUUID": "edf60dcf-90f7-4e28-a487-c6e62bc98293",
              "isHook": false,
              "skipped": false
            }
          ],
          "suites": [],
          "passes": [
            "845082d7-70e8-482d-985e-24b2bb8e17b0",
            "ee0bac27-034c-497a-ac2a-7b3e2aa0005c",
            "25c9d302-4788-45ad-a19d-ee5862b5fb08"
          ],
          "failures": [],
          "pending": [],
          "skipped": [],
          "duration": 3632,
          "root": false,
          "rootEmpty": false,
          "_timeout": 60000
        }
      ],
      "passes": [],
      "failures": [],
      "pending": [],
      "skipped": [],
      "duration": 0,
      "root": true,
      "rootEmpty": true,
      "_timeout": 5000
    }
  ],
  "meta": {
    "mocha": {
      "version": "10.8.2"
    },
    "mochawesome": {
      "options": {
        "quiet": false,
        "reportFilename": "test-results",
        "saveHtml": true,
        "saveJson": true,
        "consoleReporter": "spec",
        "useInlineDiffs": false,
        "code": true
      },
      "version": "7.1.4"
    },
    "marge": {
      "options": {
        "reportDir": "reports",
        "reportFilename": "test-results"
      },
      "version": "6.3.2"
    }
  }
}